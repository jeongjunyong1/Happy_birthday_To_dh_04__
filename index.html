<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<title>ì˜¤ëŠ˜ì˜ í€´ì¦ˆ</title>

<style>
body{margin:0;font-family:sans-serif;background:white}
.container{max-width:420px;margin:auto;padding:30px}
.card{background:white;border-radius:18px;box-shadow:0 8px 24px rgba(0,0,0,.08);padding:24px}

.primary{
background:#3182f6;color:white;border:none;
padding:14px 36px;border-radius:14px;margin-top:20px
}

.choice{
background:#f2f4f6;border:none;padding:14px;border-radius:12px;width:100%;margin-bottom:10px
}

.progress{height:6px;background:#eee;border-radius:6px;margin-bottom:15px}
.bar{height:100%;width:0;background:#3182f6;border-radius:6px}

.avatar{
width:120px;height:120px;
background:url("avatar.png") center/contain no-repeat;
margin:auto;
animation:float 3s ease-in-out infinite;
}

#opening .avatar{
width:220px;height:220px;margin:40px auto;
}

.preAvatar{
width:220px;height:220px;
background:url("intro.png") center/contain no-repeat;
margin:40px auto;
animation:float 3s ease-in-out infinite;
}

.popupAvatar{
width:90px;height:90px;
margin:0 auto 10px;
background:center/contain no-repeat;
}

.jump{animation:jump .4s}
@keyframes jump{50%{transform:translateY(-20px)}}
@keyframes float{50%{transform:translateY(-15px)}}
.sad{filter:grayscale(1)}

.fade{opacity:0;transition:.4s}

.screen{
height:100vh;
display:flex;
flex-direction:column;
justify-content:center;
align-items:center;
text-align:center;
}

/* ë²„íŠ¼ ê· ë“± */

.preBtns{
display:flex;
gap:12px;
width:100%;
max-width:300px;
}

.preBtns button{
flex:1;
white-space:nowrap;
height:48px;
padding:0;
display:flex;
align-items:center;
justify-content:center;
font-size:16px;
}



/* modal */

.modal{
position:fixed;top:0;left:0;width:100%;height:100%;
background:rgba(0,0,0,.35);
display:none;justify-content:center;align-items:center;
}

.modalBox{
background:white;padding:25px;border-radius:20px;
width:80%;max-width:300px;text-align:center;
animation:pop .3s;
}

@keyframes pop{from{transform:scale(.8);opacity:0}to{transform:scale(1)}}

/* ê²°ê³¼ */

.resultFirework{
position:fixed;
top:50%;left:50%;
transform:translate(-50%,-50%);
width:200px;height:200px;
background:url("firework.png") center/contain no-repeat;
animation:blink 1s 3;
}

@keyframes blink{
0%{opacity:1}
50%{opacity:.3}
100%{opacity:1}
}
</style>
</head>

<body>

<!-- í”„ë¦¬ ì˜¤í”„ë‹ -->
<div id="preOpening" class="screen">

<h1>ğŸ‚ ìê¸° ìƒì¼ì¶•í•˜í•´!</h1>
<div class="preAvatar"></div>

<p>ìê¸° ë°˜ì‘ì´ ì¢‹ì•„ì„œ ê°„ë‹¨íˆ ë§Œë“¤ì–´ë´¤ì–´ìš”..!<br>í•´ë³¼ë˜ìš”?</p>

<div class="preBtns">
<button class="primary" onclick="join()">ì°¸ì—¬í•˜ê¸°</button>
<button class="choice" onclick="leave()">ë‚˜ê°€ê¸°</button>
</div>

</div>

<!-- ì˜¤í”„ë‹ -->
<div id="opening" class="screen fade" style="display:none">

<h1>ì‹œì‘í•´ë³¼ê¹Œìš”?!</h1>
<div class="avatar"></div>
<button class="primary" onclick="start()">ì‹œì‘í•˜ê¸°</button>

</div>

<!-- í€´ì¦ˆ -->

<div class="container fade" id="quizPage">

<div class="progress"><div class="bar" id="bar"></div></div>
<div class="avatar" id="avatar"></div>

<div class="card">
<div id="question"></div>
<div id="choices"></div>
</div>

</div>

<!-- íŒì—… -->

<div class="modal" id="modal">
<div class="modalBox">
<div class="popupAvatar" id="popupAvatar"></div>
<div id="modalText"></div>
<button class="primary" onclick="closeModal()">í™•ì¸</button>
</div>
</div>

<script>

let quiz=JSON.parse(localStorage.getItem("quiz"))||[
{
q:"Q1. ìš°ë¦¬ëŠ” ì˜¤ëŠ˜ ëª‡ì¼?",
a:["1100ì¼","1170ì¼","1200ì¼"],
c:1,
f:["ì§„ì§œ...??","ã…ã… ë‚ ì§œë„ ë‚˜ë¦„..? ê¹”ë”í•´! ","... í•œë‹¬ ë’¤ì— ë´ì—¬....."]
},

{
q:"Q2. ìš°ë¦¬ê°€ ì²˜ìŒ ì—¬í–‰ ê°„ê³³ì€?",
a:["ì œì£¼ë„","ëŒ€ë¶€ë„","ê°•ë¦‰"],
c:2,
f:["ì œì£¼ë„ ì¢‹ê¸´í•´... ì§„ì§œ ë˜ê°€ì!","ì—¬ê¸´ ì—¬ë¦„ì— ê°”ì—ˆì–´ìš” ì¡°ê¸ˆ ë” ì¶”ì› ë˜ê±°ê°™ì€ë°...?","ã…ã… ì •ë‹µì…ë‹ˆë‹¹!"]
},

{
q:"Q3. ìš°ë¦¬ê°€ ì²˜ìŒ ë§ì¶˜ê±´?",
a:["íŒ”ì°Œ","í–¥ìˆ˜","ë°˜ì§€"],
c:0,
f:["ã…ã… 100ì¼ë•Œ ì²˜ìŒ ë§ì·„ì–´! ë‚´ê°€ ìƒì–´ë²„ë ¤ì„œ.... ë‹¤ì‹œ ë§ì¶”ê¸´ í–ˆëŠ”ë°......í—ˆí—£","ì´ê±´ 300ì¼ì´ì—ìš©! ","ì´ê±´ ë‚¨ì‚° ë†€ëŸ¬ê°ˆë•Œ ë§ì·„ì—ˆë„¤ìš©~"]
},

{
q:"Q4. ìš°ë¦¬ê°€ ì‚¬ê·„ ë‚ ì§œëŠ”?",
a:["22ë…„ 11ì›”17ì¼","22ë…„ 11ì›” 30ì¼","23ë…„ 11ì›” 30ì¼"],
c:1,
f:["ì´ë‚ ì€ ìˆ˜ëŠ¥ë³´ê³  ìˆì—ˆì–´ìš”..","ì•„ ì´ë‚  ë””ê²Œ ë–¨ë ¸ì—ˆëŠ”ë° ë²Œì¨ 3ë…„ë„ ë„˜ì—ˆì–´..! ã…ã…","ì–´ë¼ 1ë…„ ì–´ë””ê°”ì–´.."]
},

{
q:"Q5. ìš°ë¦¬ëŠ” 300ì¼ì— ë­í–ˆì„ê¹Œìš”?",
a:["[ì—˜ë¦¬ë©˜íƒˆ]ë³´ê¸°","ë‚¨ì‚°íƒ€ì›Œ ê°€ê¸°","ì ì‹¤ ë†€ëŸ¬ê°€ê¸°"],
c:2,
f:["ì´ê±´ 200ì¼ì´ì—ìš© ì´ë‚  ì‹ ë°œë„ ê°™ì´ ë§ì·„ì–´!","200ì¼ ê¸°ë…ìœ¼ë¡œ ê°”ì—ˆë‚˜ë´..! ë°˜ì§€ë„ ë§Œë“¤ê³  ê·¸ë¬ì–´! ","ì´ë‚  í–¥ìˆ˜ë„ ë§Œë“¤ê³  ì•„ì¿ ì•„ë¦¬ì›€ ë†€ëŸ¬ê°”ì–´ìš”!"]
},

{
q:"Q6. ìš°ë¦¬ê°€ ì²˜ìŒ ì™€ì¸ ë§ˆì‹ ê±´?",
a:["1ì£¼ë…„","2ì£¼ë…„","3ì£¼ë…„"],
c:0,
f:["1ì£¼ë…„ë•Œ ê·¸ ë”ìˆ²? ì§€í•˜ì— ì¹´í˜ ì˜í™”ê´€ê°€ì„œ ì¬ì¦ˆ ì˜í™” ë³´ê³  ë§ˆì…¨ì–´ìš”!","ì´ë•Œ ëª¨ì•„ë‚˜2ë³´ê³  ê°™ì´ ì†Œì£¼ë§ˆì…¨ë„¤..!","3ì£¼ë…„ë•ŒëŠ” ë°©íƒˆì¶œ ê°€ë´¤ì–´! ì„±ì‹ !"]
},

{
q:"Q7. ë„í˜„ì´ê°€ ë°›ì•˜ë˜ ìƒì¼ì„ ë¬¼ì´ ì•„ë‹Œê±´?",
a:["ê°€ë°©","ì§€ê°‘","ì˜·"],
c:2,
f:["ì´ê²Œ 22ì‚´ ìƒì¼ë•Œ ì¤¬ì–´ìš”!","ì´ê±´ 20ì‚´ ìƒì¼! 21ì‚´ì€ ë‚˜ë…¸ë¸”ëŸ­ì´ë„¹","ì˜·ì„ ì¤€ì ì´ ì—†ì—ˆë„¤...!"]
},

{
q:"Q8. ë„í˜„ì´ê°€ ê°€ì¥ ì¢‹ì•„í•˜ëŠ” ë°ì´íŠ¸ëŠ”?",
a:["ì˜¤ë²„ì›Œì¹˜ í”¼ë°©ë°ì´íŠ¸","ì¤€ìš©ì´ì™€ ë¬´í•œ ì‚°ì±…","ì•„ë¬´ê²ƒë„ ì•ˆí•˜ê³  ì‰¬ê¸°"],
c:0,
f:["ì•„ë§ˆ ì´ê±°ì§€ ì•Šì„ê¹Œ...?","ã…‹ã…‹ã…‹ã…‹ ê±°ì§“ë§ìŸì´","ì˜¤...?"]
},

{
q:"Q9. ìš°ë¦¬ê°€ ê°™ì´ ê³µë¶€í•œê±´?",
a:["ìš´ì „ë©´í—ˆ","í† ìµ","ì½”ë”©"],
c:1,
f:["ë¹„ìŠ·í•œ ì‹œê¸°ì— ë”°ê¸´í–ˆì§€ë§Œ ê°™ì´ ê³µë¶€í•˜ì§„ ì•Šì•˜ì–´ìš©...","í—ˆí—ˆ ê³µë¶€ë¥¼ í–ˆì—ˆë‚˜... ì•”íŠ¼.. í•™ì› ê°™ì´ ê°”ìœ¼ë‹ˆê¹Œ..!","í—ˆí—ˆ ì†Œì¬ê³ ê°ˆ.. ì½”ë”©ì€ ë‚´ê°€ ì§€ê¸ˆ í•˜ê³ ìˆì–´....ã…"]
},

{
q:"Q10. ë„í˜„ì´ê°€ ì§€ê¸ˆ ì œì¼ í•˜ê³  ì‹¶ì€ê±´?",
a:["ë‚˜ ì™•ì°½ ì•ˆì•„ì£¼ê¸°","ì˜ë§Œë“¤ì—ˆë‹¤ê³  ì¹­ì°¬í•´ì£¼ê¸°","ë‘˜ ë‹¤ í•˜ê¸°"],
c:2,
f:["ã…ã…ã…ã…ã…ã…ã…ã…","ã…ã…ã…ã…ã…ã…ã…ã…","ã…ã…ã…ã…ã…ã…ã…ã…"]
}


];

let i=0;
let correct=false;

const modal=document.getElementById("modal");
const modalText=document.getElementById("modalText");
const popupAvatar=document.getElementById("popupAvatar");
const avatar=document.getElementById("avatar");
const q=document.getElementById("question");
const c=document.getElementById("choices");
const bar=document.getElementById("bar");

/* í”„ë¦¬ ì˜¤í”„ë‹ */

function join(){
preOpening.classList.add("fade");
setTimeout(()=>{
preOpening.style.display="none";
opening.style.display="flex";
opening.classList.remove("fade");
},400);
}

function leave(){
popupAvatar.style.backgroundImage='url("sad.png")';
modalText.innerText="ê·¸ëŸ° ì„ íƒì§€ëŠ” ì—†ì–´ ğŸ˜";
modal.style.display="flex";
}

/* ì˜¤í”„ë‹ */

function start(){
opening.classList.add("fade");
setTimeout(()=>{
opening.style.display="none";
quizPage.classList.remove("fade");
load();
},400);
}

/* í€´ì¦ˆ */

function load(){
q.innerText=quiz[i].q;
c.innerHTML="";
bar.style.width=(i/quiz.length*100)+"%";
avatar.classList.remove("sad");

quiz[i].a.forEach((t,n)=>{
let b=document.createElement("button");
b.className="choice";
b.innerText=t;
b.onclick=()=>select(n);
c.appendChild(b);
});
}

function select(n){
correct=n===quiz[i].c;
modalText.innerText=quiz[i].f[n];

popupAvatar.classList.remove("jump");

if(correct){
avatar.classList.add("jump");
popupAvatar.style.backgroundImage='url("avatar.png")';
popupAvatar.classList.add("jump");
}else{
avatar.classList.add("sad");
popupAvatar.style.backgroundImage='url("sad.png")';
}

modal.style.display="flex";
}

function closeModal(){
modal.style.display="none";
avatar.classList.remove("jump","sad");

if(correct){
i++;
i<quiz.length?load():finish();
}
}

/* ê²°ê³¼ */

function finish(){

document.body.innerHTML=`
<div style="height:100vh;display:flex;justify-content:center;align-items:center;font-size:30px;font-weight:bold">
ğŸ‰ìƒì¼ì¶•í•˜í•´! ì„ ë¬¼ì€ ë‚˜ì•¼!ğŸ‰ 
</div>
`;

for(let r=0;r<3;r++){
setTimeout(()=>{
for(let j=0;j<10;j++)createFirework();
},r*900);
}


let big=document.createElement("div");
big.className="resultFirework";
document.body.appendChild(big);

setTimeout(()=>big.remove(),3000);
}

function createFirework(){

let f=document.createElement("div");
f.style.position="fixed";
f.style.left=Math.random()*100+"%";
f.style.top=Math.random()*80+"%";
document.body.appendChild(f);

for(let i=0;i<12;i++){
let p=document.createElement("div");
p.style.position="absolute";
p.style.width="6px";
p.style.height="6px";
p.style.borderRadius="50%";
p.style.background=["#3182f6","#ff5f5f","#ffd43b"][Math.floor(Math.random()*3)];
f.appendChild(p);

let x=Math.random()*100-50;
let y=Math.random()*100-50;

p.animate([
{transform:"translate(0,0)",opacity:1},
{transform:`translate(${x}px,${y}px)`,opacity:0}
],{duration:900});
}

setTimeout(()=>f.remove(),1000);
}
</script>

</body>
</html>
